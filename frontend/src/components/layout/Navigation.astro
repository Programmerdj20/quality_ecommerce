---
/**
 * Navigation - Menú de navegación principal (desktop)
 * Diseño minimalista con underline animado
 */

const currentPath = Astro.url.pathname;

const navItems = [
  { href: '/', label: 'Inicio' },
  { href: '/productos', label: 'Productos' },
  { href: '/productos/tecnologia', label: 'Tecnología' },
  { href: '/productos/hogar', label: 'Hogar' },
  { href: '/productos/moda', label: 'Moda' },
];

function isActive(href: string): boolean {
  if (href === '/') return currentPath === '/';
  return currentPath.startsWith(href);
}
---

<nav class="flex items-center justify-center">
  <ul class="flex items-center gap-8">
    {navItems.map((item) => (
      <li class="nav-item">
        <a
          href={item.href}
          class={`
            nav-link relative
            text-sm font-medium
            transition-colors duration-200
            ${isActive(item.href)
              ? 'text-black font-semibold'
              : 'text-gray-800 hover:text-black'
            }
          `}
        >
          {item.label}

          <!-- Underline animado -->
          <span class={`
            nav-underline absolute left-0 -bottom-1 h-0.5 bg-black
            transition-all duration-300 ease-out
            ${isActive(item.href) ? 'w-full' : 'w-0'}
          `}></span>
        </a>
      </li>
    ))}
  </ul>
</nav>

<style>
  /* Underline animado en hover */
  .nav-link:hover .nav-underline {
    width: 100%;
  }

  /* Asegurar que el link activo siempre tenga underline */
  .nav-link:hover {
    font-weight: 600;
  }
</style>
