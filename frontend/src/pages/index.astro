---
/**
 * Home Page - P치gina principal del e-commerce
 */

import BaseLayout from "@/layouts/BaseLayout.astro";
import BannerCarousel from "@/components/home/BannerCarousel.astro";

// Obtener banners de configuraci칩n
import ProductCard from "@/components/products/ProductCard.astro";
import BestSellersCarousel from "@/components/products/BestSellersCarousel.astro";
import {
  PLACEHOLDER_SITE_CONFIG,
  PLACEHOLDER_PRODUCTS,
} from "@/utils/api/placeholderData";
import { getRandomProducts } from "@/utils/products";

// Obtener banners de configuraci칩n
const banners = PLACEHOLDER_SITE_CONFIG.banners;

// Obtener 8 productos aleatorios para "Productos Novedosos"
const productosNovedosos = getRandomProducts(
  PLACEHOLDER_PRODUCTS.filter((p) => p.activo),
  8,
);

// Obtener 12 productos aleatorios para "Los M치s Vendidos"
const productosMasVendidos = getRandomProducts(
  PLACEHOLDER_PRODUCTS.filter((p) => p.activo),
  12,
);
---

<BaseLayout
  title="Inicio - Quality Ecommerce"
  description="Encuentra los mejores productos en tecnolog칤a, hogar y moda. Env칤os a toda Colombia con los mejores precios."
>
  <!-- Carrusel de Banners -->
  <BannerCarousel banners={banners} />

  <!-- Productos Novedosos -->
  <section class="py-12 bg-white">
    <div class="container mx-auto px-4">
      <div class="text-center mb-8">
        <h2
          class="font-heading font-bold text-3xl md:text-4xl text-gray-800 mb-2"
        >
          PRODUCTOS NOVEDOSOS 游댠
        </h2>
        <div class="w-24 h-1 bg-primary mx-auto rounded-full"></div>
      </div>

      <div class="grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6">
        {productosNovedosos.map((product) => <ProductCard product={product} />)}
      </div>

      <div class="text-center mt-8">
        <a
          href="/productos"
          class="inline-flex items-center gap-2 px-6 py-3 bg-gray-800 text-white font-semibold rounded-lg hover:bg-black transition-colors duration-300"
        >
          Ver M치s Productos
          <svg
            class="w-5 h-5"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
          </svg>
        </a>
      </div>
    </div>
  </section>

  <!-- Beneficios -->
  <section class="py-16 bg-gray-50">
    <div class="container mx-auto px-4">
      <div class="text-center mb-12">
        <h2
          class="font-heading font-bold text-3xl md:text-4xl text-gray-800 mb-4"
        >
          Compra con Confianza
        </h2>
        <p class="text-gray-600 text-lg max-w-2xl mx-auto">
          Tu seguridad y satisfacci칩n son nuestra prioridad
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
        <!-- Env칤o Gratis -->
        <div
          class="benefit-card group text-center p-6 bg-white rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1"
        >
          <div
            class="w-20 h-20 bg-gradient-to-br from-gray-800 to-black rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300"
          >
            <svg
              class="w-10 h-10 text-white"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"
              ></path>
            </svg>
          </div>
          <h3 class="font-heading font-bold text-xl mb-3 text-gray-800">
            Env칤o Gratis
          </h3>
          <p class="text-gray-600 leading-relaxed">
            En compras superiores a <span class="font-semibold text-gray-800"
              >$299.900</span
            >
          </p>
        </div>

        <!-- Pago Seguro -->
        <div
          class="benefit-card group text-center p-6 bg-white rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1"
        >
          <div
            class="w-20 h-20 bg-gradient-to-br from-gray-800 to-black rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300"
          >
            <svg
              class="w-10 h-10 text-white"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"
              ></path>
            </svg>
          </div>
          <h3 class="font-heading font-bold text-xl mb-3 text-gray-800">
            Pago 100% Seguro
          </h3>
          <p class="text-gray-600 leading-relaxed">
            Encriptaci칩n SSL y m칰ltiples m칠todos de pago confiables
          </p>
        </div>

        <!-- Garant칤a -->
        <div
          class="benefit-card group text-center p-6 bg-white rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1"
        >
          <div
            class="w-20 h-20 bg-gradient-to-br from-gray-800 to-black rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300"
          >
            <svg
              class="w-10 h-10 text-white"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </div>
          <h3 class="font-heading font-bold text-xl mb-3 text-gray-800">
            Garant칤a Total
          </h3>
          <p class="text-gray-600 leading-relaxed">
            Todos nuestros productos son 100% Grarantizados
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Los M치s Vendidos Esta Semana -->
  <section class="py-12 bg-white">
    <div class="container mx-auto px-4">
      <div class="text-center mb-8">
        <h2
          class="font-heading font-bold text-3xl md:text-4xl text-gray-800 mb-2"
        >
          LOS MAS VENDIDOS ESTA SEMANA 游
        </h2>
        <div class="w-24 h-1 bg-primary mx-auto rounded-full"></div>
      </div>

      <BestSellersCarousel products={productosMasVendidos} />

      <div class="text-center mt-8">
        <a
          href="/productos"
          class="inline-flex items-center gap-2 px-6 py-3 bg-gray-800 text-white font-semibold rounded-lg hover:bg-black transition-colors duration-300"
        >
          Ver M치s Productos
          <svg
            class="w-5 h-5"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
          </svg>
        </a>
      </div>
    </div>
  </section>

  <!-- Medios de Pago - Marquesina Infinita -->
  <section class="py-16 bg-gray-50">
    <div class="container mx-auto px-4">
      <div class="text-center mb-12">
        <h2
          class="font-heading font-bold text-3xl md:text-4xl text-gray-800 mb-4"
        >
          Contamos con Todos los Medios de Pago
        </h2>
        <p class="text-gray-600 text-lg max-w-2xl mx-auto">
          Paga como prefieras, con total seguridad y respaldo
        </p>
      </div>

      <!-- Marquesina Infinita de Logos -->
      <div class="payment-marquee-container relative overflow-hidden py-8">
        <div class="payment-marquee-content flex items-center gap-12 md:gap-16">
          <!-- Grupo 1: Logos originales -->
          <div
            class="payment-marquee-group flex items-center gap-12 md:gap-16 flex-shrink-0"
          >
            <!-- Mercado Pago -->
            <div class="payment-logo flex items-center justify-center">
              <img
                src="/images/payment-methods/Logo_mercadopago.webp"
                alt="Mercado Pago"
                class="h-8 md:h-10 w-auto object-contain opacity-60 hover:opacity-100 transition-opacity duration-300"
              />
            </div>

            <!-- Visa -->
            <div class="payment-logo flex items-center justify-center">
              <img
                src="https://upload.wikimedia.org/wikipedia/commons/5/5e/Visa_Inc._logo.svg"
                alt="Visa"
                class="h-6 md:h-8 w-auto object-contain opacity-60 hover:opacity-100 transition-opacity duration-300"
              />
            </div>

            <!-- Mastercard -->
            <div class="payment-logo flex items-center justify-center">
              <img
                src="https://upload.wikimedia.org/wikipedia/commons/2/2a/Mastercard-logo.svg"
                alt="Mastercard"
                class="h-8 md:h-10 w-auto object-contain opacity-60 hover:opacity-100 transition-opacity duration-300"
              />
            </div>

            <!-- Bre B -->
            <div class="payment-logo flex items-center justify-center">
              <img
                src="/images/payment-methods/Logo_breb.webp"
                alt="Bre_B"
                class="h-8 md:h-10 w-auto object-contain opacity-60 hover:opacity-100 transition-opacity duration-300"
              />
            </div>

            <!-- PSE -->
            <div class="payment-logo flex items-center justify-center">
              <img
                src="/images/payment-methods/Logo_pse.webp"
                alt="PSE"
                class="h-10 md:h-12 w-auto object-contain opacity-60 hover:opacity-100 transition-opacity duration-300"
              />
            </div>

            <!-- Nequi -->
            <div class="payment-logo flex items-center justify-center">
              <img
                src="/images/payment-methods/Logo_nequi.webp"
                alt="Nequi"
                class="h-8 md:h-10 w-auto object-contain opacity-60 hover:opacity-100 transition-opacity duration-300"
              />
            </div>

            <!-- Daviplata -->
            <div class="payment-logo flex items-center justify-center">
              <img
                src="/images/payment-methods/Logo_daviplata.webp"
                alt="Daviplata"
                class="h-8 md:h-10 w-auto object-contain opacity-60 hover:opacity-100 transition-opacity duration-300"
              />
            </div>

            <!-- Wompi -->
            <div class="payment-logo flex items-center justify-center">
              <img
                src="/images/payment-methods/Logo_wompi.webp"
                alt="Wompi"
                class="h-8 md:h-10 w-auto object-contain opacity-60 hover:opacity-100 transition-opacity duration-300"
              />
            </div>

            <!-- Addi -->
            <div class="payment-logo flex items-center justify-center">
              <img
                src="/images/payment-methods/Addi_logo.webp"
                alt="Addi"
                class="h-8 md:h-10 w-auto object-contain opacity-60 hover:opacity-100 transition-opacity duration-300"
              />
            </div>

            <!-- Sistecredito -->
            <div class="payment-logo flex items-center justify-center">
              <img
                src="/images/payment-methods/Logo_sistecredito.webp"
                alt="Sistecredito"
                class="h-8 md:h-10 w-auto object-contain opacity-60 hover:opacity-100 transition-opacity duration-300"
              />
            </div>
          </div>

          <!-- Grupo 2: Logos duplicados (para efecto infinito) -->
          <div
            class="payment-marquee-group flex items-center gap-12 md:gap-16 flex-shrink-0"
            aria-hidden="true"
          >
            <!-- Mercado Pago -->
            <div class="payment-logo flex items-center justify-center">
              <img
                src="/images/payment-methods/Logo_mercadopago.webp"
                alt="Mercado Pago"
                class="h-8 md:h-10 w-auto object-contain opacity-60 hover:opacity-100 transition-opacity duration-300"
              />
            </div>

            <!-- Visa -->
            <div class="payment-logo flex items-center justify-center">
              <img
                src="https://upload.wikimedia.org/wikipedia/commons/5/5e/Visa_Inc._logo.svg"
                alt="Visa"
                class="h-6 md:h-8 w-auto object-contain opacity-60 hover:opacity-100 transition-opacity duration-300"
              />
            </div>

            <!-- Mastercard -->
            <div class="payment-logo flex items-center justify-center">
              <img
                src="https://upload.wikimedia.org/wikipedia/commons/2/2a/Mastercard-logo.svg"
                alt="Mastercard"
                class="h-8 md:h-10 w-auto object-contain opacity-60 hover:opacity-100 transition-opacity duration-300"
              />
            </div>

            <!-- Bre B -->
            <div class="payment-logo flex items-center justify-center">
              <img
                src="/images/payment-methods/Logo_breb.webp"
                alt="Bre_B"
                class="h-8 md:h-10 w-auto object-contain opacity-60 hover:opacity-100 transition-opacity duration-300"
              />
            </div>

            <!-- PSE -->
            <div class="payment-logo flex items-center justify-center">
              <img
                src="/images/payment-methods/Logo_pse.webp"
                alt="PSE"
                class="h-10 md:h-12 w-auto object-contain opacity-60 hover:opacity-100 transition-opacity duration-300"
              />
            </div>

            <!-- Nequi -->
            <div class="payment-logo flex items-center justify-center">
              <img
                src="/images/payment-methods/Logo_nequi.webp"
                alt="Nequi"
                class="h-8 md:h-10 w-auto object-contain opacity-60 hover:opacity-100 transition-opacity duration-300"
              />
            </div>

            <!-- Daviplata -->
            <div class="payment-logo flex items-center justify-center">
              <img
                src="/images/payment-methods/Logo_daviplata.webp"
                alt="Daviplata"
                class="h-8 md:h-10 w-auto object-contain opacity-60 hover:opacity-100 transition-opacity duration-300"
              />
            </div>

            <!-- Wompi -->
            <div class="payment-logo flex items-center justify-center">
              <img
                src="/images/payment-methods/Logo_wompi.webp"
                alt="Wompi"
                class="h-8 md:h-10 w-auto object-contain opacity-60 hover:opacity-100 transition-opacity duration-300"
              />
            </div>

            <!-- Addi -->
            <div class="payment-logo flex items-center justify-center">
              <img
                src="/images/payment-methods/Addi_logo.webp"
                alt="Addi"
                class="h-8 md:h-10 w-auto object-contain opacity-60 hover:opacity-100 transition-opacity duration-300"
              />
            </div>

            <!-- Sistecredito -->
            <div class="payment-logo flex items-center justify-center">
              <img
                src="/images/payment-methods/Logo_sistecredito.webp"
                alt="Sistecredito"
                class="h-8 md:h-10 w-auto object-contain opacity-60 hover:opacity-100 transition-opacity duration-300"
              />
            </div>
          </div>
        </div>
      </div>

      <!-- Badge de Seguridad SSL -->
      <div class="mt-8 text-center">
        <div
          class="inline-flex items-center gap-3 px-6 py-3 bg-green-50 border-2 border-green-200 rounded-full"
        >
          <svg
            class="w-6 h-6 text-green-600"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
            ></path>
          </svg>
          <span class="font-semibold text-green-800"
            >Compra 100% Segura con Encriptaci칩n SSL</span
          >
        </div>
      </div>
    </div>
  </section>

  <!-- Newsletter Subscription -->
  <section class="py-16 bg-gradient-to-r from-gray-800 to-black">
    <div class="container mx-auto px-4">
      <div class="max-w-3xl mx-auto text-center">
        <div class="mb-6">
          <svg
            class="w-16 h-16 mx-auto text-white mb-4"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
            ></path>
          </svg>
          <h2
            class="font-heading font-bold text-3xl md:text-4xl text-white mb-3"
          >
            춰No Te Pierdas Nuestras Novedades!
          </h2>
          <p class="text-gray-300 text-lg">
            Suscr칤bete a nuestro newsletter y recibe promociones exclusivas,
            descuentos especiales y las 칰ltimas novedades directamente en tu
            correo.
          </p>
        </div>

        <form
          class="flex flex-col sm:flex-row gap-3 max-w-xl mx-auto"
          id="newsletter-form"
        >
          <input
            type="email"
            name="email"
            placeholder="Tu correo electr칩nico"
            required
            class="flex-1 px-6 py-4 rounded-lg text-gray-400 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-white"
          />
          <button
            type="submit"
            class="px-8 py-4 bg-white text-gray-800 font-bold rounded-lg hover:bg-gray-100 transition-colors duration-300 whitespace-nowrap"
          >
            Suscribirme
          </button>
        </form>

        <p class="text-gray-400 text-sm mt-4">
          游 Tu informaci칩n est치 segura. No compartimos datos con terceros.
        </p>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  /* Animaciones generales */
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slide-in-up {
    from {
      opacity: 0;
      transform: translateY(40px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fade-in 0.6s ease-out forwards;
  }

  .animation-delay-100 {
    animation-delay: 0.1s;
    opacity: 0;
  }

  .animation-delay-200 {
    animation-delay: 0.2s;
    opacity: 0;
  }

  /* Animaci칩n de categor칤as */
  .category-card {
    animation: slide-in-up 0.6s ease-out forwards;
  }

  /* Animaci칩n de productos destacados */
  .products-grid-animated > * > * {
    animation: slide-in-up 0.6s ease-out forwards;
    opacity: 0;
  }

  .products-grid-animated > * > *:nth-child(1) {
    animation-delay: 0.1s;
  }

  .products-grid-animated > * > *:nth-child(2) {
    animation-delay: 0.2s;
  }

  .products-grid-animated > * > *:nth-child(3) {
    animation-delay: 0.3s;
  }

  .products-grid-animated > * > *:nth-child(4) {
    animation-delay: 0.4s;
  }

  .products-grid-animated > * > *:nth-child(5) {
    animation-delay: 0.5s;
  }

  .products-grid-animated > * > *:nth-child(6) {
    animation-delay: 0.6s;
  }

  .products-grid-animated > * > *:nth-child(7) {
    animation-delay: 0.7s;
  }

  .products-grid-animated > * > *:nth-child(8) {
    animation-delay: 0.8s;
  }

  /* Marquesina Infinita de Medios de Pago */
  @keyframes marquee-scroll {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  .payment-marquee-content {
    animation: marquee-scroll 45s linear infinite;
    will-change: transform;
  }

  /* Pausa al hacer hover para mejor UX */
  .payment-marquee-container:hover .payment-marquee-content {
    animation-play-state: paused;
  }

  /* Soporte para prefers-reduced-motion (accesibilidad) */
  @media (prefers-reduced-motion: reduce) {
    .payment-marquee-content {
      animation: none;
    }

    .payment-marquee-group:last-child {
      display: none;
    }
  }

  /* Asegurar que los logos tengan tama침os uniformes */
  .payment-logo {
    min-width: 80px;
  }

  @media (min-width: 768px) {
    .payment-logo {
      min-width: 100px;
    }
  }
</style>
